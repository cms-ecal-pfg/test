process GETUNCALRECHIT = { 

source = PoolSource {
                      #untracked vstring fileNames = {'file:/data/scooper/data/grea07/40792E58-B757-DC11-8AB2-001617E30F46.root'}
                      untracked vstring fileNames = {
			'rfio:/castor/cern.ch/cms/store/data/GlobalMar08/A/000/000/000/RAW/0000/00B7AF54-D3F1-DC11-B07B-000423D98804.root',
			'rfio:/castor/cern.ch/cms/store/data/GlobalMar08/A/000/000/000/RAW/0000/0633F154-D3F1-DC11-9915-000423D9863C.root',
			'rfio:/castor/cern.ch/cms/store/data/GlobalMar08/A/000/000/000/RAW/0000/06DAF35A-D3F1-DC11-B9A7-000423D986A8.root',
			'rfio:/castor/cern.ch/cms/store/data/GlobalMar08/A/000/000/000/RAW/0000/125A7C55-D3F1-DC11-9361-000423D6CA42.root',
			'rfio:/castor/cern.ch/cms/store/data/GlobalMar08/A/000/000/000/RAW/0000/1434AB4F-D3F1-DC11-8D2A-000423D9870C.root',
			'rfio:/castor/cern.ch/cms/store/data/GlobalMar08/A/000/000/000/RAW/0000/24690254-D3F1-DC11-9F4E-000423D9853C.root',
			'rfio:/castor/cern.ch/cms/store/data/GlobalMar08/A/000/000/000/RAW/0000/3CCD7E56-D3F1-DC11-8318-000423D6B5C4.root',
			'rfio:/castor/cern.ch/cms/store/data/GlobalMar08/A/000/000/000/RAW/0000/50BF8438-D1F1-DC11-A7D4-000423D6B444.root',
			'rfio:/castor/cern.ch/cms/store/data/GlobalMar08/A/000/000/000/RAW/0000/62A91955-D3F1-DC11-BAC0-000423D6C8EE.root',
			'rfio:/castor/cern.ch/cms/store/data/GlobalMar08/A/000/000/000/RAW/0000/62FBFE54-D3F1-DC11-94FE-000423D9939C.root',
			'rfio:/castor/cern.ch/cms/store/data/GlobalMar08/A/000/000/000/RAW/0000/6A774F58-D3F1-DC11-9B48-000423D6CA72.root',
			'rfio:/castor/cern.ch/cms/store/data/GlobalMar08/A/000/000/000/RAW/0000/74C17254-D3F1-DC11-85C0-000423DD2F34.root',
			'rfio:/castor/cern.ch/cms/store/data/GlobalMar08/A/000/000/000/RAW/0000/783BC655-D3F1-DC11-9BFE-000423D6C8E6.root',
			'rfio:/castor/cern.ch/cms/store/data/GlobalMar08/A/000/000/000/RAW/0000/864CB65A-D3F1-DC11-B4BD-000423D6BA18.root',
			'rfio:/castor/cern.ch/cms/store/data/GlobalMar08/A/000/000/000/RAW/0000/9258245C-D3F1-DC11-98B6-000423D6A6F4.root',
			'rfio:/castor/cern.ch/cms/store/data/GlobalMar08/A/000/000/000/RAW/0000/94176659-D3F1-DC11-B88A-000423D98DB4.root',
			'rfio:/castor/cern.ch/cms/store/data/GlobalMar08/A/000/000/000/RAW/0000/EC08ED56-D3F1-DC11-9396-000423D6B42C.root'
		       }

                      untracked uint32 skipEvents = 0
                    }

#untracked PSet maxEvents = {untracked int32 input = 10000}
untracked PSet maxEvents = {untracked int32 input = -1}

include "EventFilter/EcalRawToDigiDev/data/EcalUnpackerMapping.cfi"
include "EventFilter/EcalRawToDigiDev/data/EcalUnpackerData.cfi"

include "Geometry/CaloEventSetup/data/CaloTopology.cfi"
include "Geometry/EcalCommonData/data/EcalOnly.cfi"
include "Geometry/CaloEventSetup/data/CaloGeometry.cff"


es_source src1 = EcalTrivialConditionRetriever{
     untracked vdouble amplWeights = { -0.333, -0.333, -0.333,
                                        0.000,  0.000,  1.000,
                                        0.000,  0.000,  0.000,  0.000 }
     untracked vdouble pedWeights  = {  0.333,  0.333,  0.333,
                                        0.000,  0.000,  0.000,
                                        0.000,  0.000,  0.000,  0.000 }
     untracked vdouble jittWeights = {  0.040,  0.040,  0.040,
                                        0.000,  1.320, -0.050,
                                       -0.500, -0.500, -0.400,  0.000 }
 } 

#module ecalUncalibHit = ecalMaxSampleUncalibRecHit from "RecoLocalCalo/EcalRecProducers/data/ecalMaxSampleUncalibRecHit.cfi"
module ecalUncalibHit = ecalFixedAlphaBetaFitUncalibRecHit from "RecoLocalCalo/EcalRecProducers/data/ecalFixedAlphaBetaFitUncalibRecHit.cfi"

replace ecalUncalibHit.EBdigiCollection = ecalEBunpacker:ebDigis
replace ecalUncalibHit.EEdigiCollection = ecalEBunpacker:eeDigis

include "CaloOnlineTools/EcalTools/data/ecalSuperURecHitHists.cfi"


replace ecalSuperURecHitHists.maskedChannels = {16210, 28472, 414 , 13024, 1896 , 6932 , 14502, 3713 , 6972 , 21013, 5532 , 10221, 141 , 16002, 13485, 3049 ,30079, 26832, 17107, 8108 , 14636, 23286, 20040, 30501, 1358 , 277 , 999 , 14675, 14663, 24060, 7507 , 7152 ,17255, 10070, 42125, 45736, 46478, 46889, 39717, 46555, 51628, 33280, 49867, 52058, 52052, 61058, 49189, 49217,34853, 40247, 42407, 54659, 56818, 32705, 36669, 56473, 42805, 42803, 47137, 33101, 40306, 61195, 13485, 6972, 42803, 56473, 13339, 8583, 276, 278} 
# toyoko added 13339 for this run because of integrity problems
# toyoko added 8583 because of timing/pulse shape problem (?)
# toyoko added 276 and 278 unknown problem

replace ecalSuperURecHitHists.fileName =  'test'


#module dumpEv = EventContentAnalyzer {}

path p = {    ecalEBunpacker
                  , ecalUncalibHit 
                  , ecalSuperURecHitHists
                #, dumpEv
             }

    service = MessageLogger{
       untracked vstring destinations = { "cout" }

       untracked vstring categories = {     "EcalURecHitHists"
                                                           #,  "EcalTBRawToDigi"
                                                           #,  "EcalRawToDigiDev"
                                                         }

        untracked PSet cout = {   untracked string threshold = "INFO"  }
        untracked vstring suppressInfo = {"ecalEBunpacker"}

    }

}
