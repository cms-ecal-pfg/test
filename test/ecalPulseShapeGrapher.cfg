process Demo =  {
  
source = PoolSource 
{ 
     untracked vstring fileNames = {

     }
}

untracked PSet maxEvents = {untracked int32 input = 10000}
#untracked PSet maxEvents = {untracked int32 input = -1}
include "EventFilter/EcalRawToDigiDev/data/EcalUnpackerMapping.cfi"
include "EventFilter/EcalRawToDigiDev/data/EcalUnpackerData.cfi"

es_source src1 = EcalTrivialConditionRetriever{
  untracked vdouble amplWeights = { -0.333, -0.333, -0.333,
                                     0.000,  0.000,  1.000,
                                     0.000,  0.000,  0.000,  0.000 }
  untracked vdouble pedWeights  = {  0.333,  0.333,  0.333,
                                     0.000,  0.000,  0.000,
                                     0.000,  0.000,  0.000,  0.000 }
  untracked vdouble jittWeights = {  0.040,  0.040,  0.040,
                                     0.000,  1.320, -0.050,
                                    -0.500, -0.500, -0.400,  0.000 }
     untracked double adcToGeVEBConstant = 0.009
#     untracked string  channelStatusFile = "CalibCalorimetry/EcalTrivialCondModules/data/listCRUZET.v1.hashed.trivial.txt_gio"
     untracked string  channelStatusFile = "CalibCalorimetry/EcalTrivialCondModules/data/listCRUZET.v1.hashed.trivial.txt_selftrigger"
}

module maxSampleUncalibHit = ecalMaxSampleUncalibRecHit from "RecoLocalCalo/EcalRecProducers/data/ecalMaxSampleUncalibRecHit.cfi"
    replace maxSampleUncalibHit.EBdigiCollection = ecalEBunpacker:ebDigis
    replace maxSampleUncalibHit.EEdigiCollection = ecalEBunpacker:eeDigis
module fittedUncalibHit = ecalFixedAlphaBetaFitUncalibRecHit from "RecoLocalCalo/EcalRecProducers/data/ecalFixedAlphaBetaFitUncalibRecHit.cfi"
    replace fittedUncalibHit.EBdigiCollection = ecalEBunpacker:ebDigis
    replace fittedUncalibHit.EEdigiCollection = ecalEBunpacker:eeDigis

service = MessageLogger {
     untracked vstring destinations = {"cout"}
     untracked vstring categories = {"StrangeEventAnalyzer",
                                     "EcalRawToDigiDev",
                                     "EcalRawToDigiDevTriggerType",
                                     "EcalRawToDigiDevTpg",
                                     "EcalRawToDigiDevNumTowerBlocks",
                                     "EcalRawToDigiDevTowerId",
                                     "EcalRawToDigiDevTowerSize",
                                     "EcalRawToDigiDevChId",
                                     "EcalRawToDigiDevGainZero",
                                     "EcalRawToDigiDevGainSwitch",
                                     "EcalRawToDigiDevDccBlockSize",
                                     "EcalRawToDigiDevMemBlock",
                                     "EcalRawToDigiDevMemTowerId",
                                     "EcalRawToDigiDevMemChId",
                                     "EcalRawToDigiDevMemGain",
                                     "EcalRawToDigiDevTCC",
                                     "EcalRawToDigiDevSRP"}
     untracked PSet cout = { untracked string threshold = "WARNING"
                             untracked bool noTimeStamps = true
                             untracked bool noLineBreaks = true }
     untracked vstring debugModules = {"StrangeEventAnalyzer"}
     untracked vstring suppressInfo = {"EcalRawToDigiDev"}
     untracked vstring suppressWarning = {"EcalRawToDigiDev"}
     untracked vstring suppressDebug = {"EcalRawToDigiDev"}
}

module ecalPulseShapeGrapher = EcalPulseShapeGrapher { 
    InputTag EBUncalibratedRecHitCollection = fittedUncalibHit:EcalUncalibRecHitsEB
    InputTag EBDigiCollection = ecalEBunpacker:ebDigis
#    untracked vint32 listChannels = {21846,40743,15403}
    untracked vint32 listChannels = {54073,32564}
    untracked int32 AmplitudeCutADC = 20
}

path p = {ecalEBunpacker, fittedUncalibHit, ecalPulseShapeGrapher}
#endpath q = {output}
#, fittedUncalibHit, ana} 

}
